(function () { var define = undefined;!function t(e,i,s){function n(l,r){if(!i[l]){if(!e[l]){var o="function"==typeof require&&require;if(!r&&o)return o(l,!0);if(a)return a(l,!0);var h=new Error("Cannot find module '"+l+"'");throw h.code="MODULE_NOT_FOUND",h}var c=i[l]={exports:{}};e[l][0].call(c.exports,function(t){var i=e[l][1][t];return n(i?i:t)},c,c.exports,t,e,i,s)}return i[l].exports}for(var a="function"==typeof require&&require,l=0;l<s.length;l++)n(s[l]);return n}({1:[function(t,e,i){!function(e){var i;t("peity"),t("chosen-jquery-browserify");var s={formatNr:function(t,e){return t=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"&nbsp;"),t=t.replace(".",","),e===!0&&t.indexOf(",")===-1&&(t+=",0"),""===t?0:t},roundNr:function(t,e){return parseFloat(t.toFixed(e))},setPath:function(){location.href.match("dev")?s.path="http://dev.yle.fi/2017/"+s.projectName+"/public/":location.href.match("yle.fi/plus")?s.path="http://yle.fi/plus/yle/2017/"+s.projectName+"/":s.path="http://plus.yle.fi/"+s.projectName+"/"},getScale:function(){var t=i.width();return t>=600?(i.addClass("wide"),!0):t<600?(i.removeClass("wide"),!1):void 0},initMediaUrls:function(){e.each(e(".handle_img",i),function(t,i){e(this).attr("src",s.path+"img/"+e(this).attr("data-src"))})},initMoveScroller:function(){var t=function(){var t=e(window).scrollTop(),s=e(".top_anchor",i).offset().top,n=e(".bottom_anchor",i).offset().top-150,a=e(".header",i);"#etusivu"==window.location.hash?a.hide():t>s&&t<n?(a.css({position:"fixed",top:0,width:i.width()+"px"}).show(),i.hasClass("wide")?e(".content_container",i).css("padding-top","50px"):e(".content_container",i).css("padding-top","50px")):(e(".content_container",i).css("padding-top","0"),t<=s?a.css({position:"relative",width:"100%"}).show():a.hide())};e(window).scroll(t)},initHeights:function(){e("html").hasClass("no-touch")},scaleHeights:function(){},initChosen:function(t){e(t,i).chosen()},getMunicipalitySelectionData:function(){e.ajax({dataType:"json",method:"GET",success:function(t){s.initMunicipalitySelection(t)},url:s.path+"data/municipality.json"})},initMunicipalitySelection:function(t){var n=e(".municipality_selection",i);e.each(t,function(t,i){e('<option value="'+i.o+'" data-municipality="'+i.m+'" data-value-2013="'+i.y2013+'" data-value-2030="'+i.y2030+'">'+i.m+"</option>").appendTo(n)}),s.initChosen(".municipality_selection")},getMunicipalityData:function(){e.ajax({dataType:"json",method:"GET",success:function(t){s.municipalityCollectionData=t},url:s.path+"data/municipality_collection.json"}),e.ajax({dataType:"json",method:"GET",success:function(t){s.municipalityHomecareStaffData=t},url:s.path+"data/municipality_homecare_staff.json"}),e.ajax({dataType:"json",method:"GET",success:function(t){s.municipalityRehabilitationStaffData=t},url:s.path+"data/municipality_rehabilitation_staff.json"}),e.ajax({dataType:"json",method:"GET",success:function(t){s.municipalityHomeCareUnitData=t},url:s.path+"data/municipality_homecareunit.json"})},setMunicipalityData:function(){var t;s.municipalityCollectionData[s.selectedMunicipalityCollection]?e.each(s.municipalityCollectionData[s.selectedMunicipalityCollection],function(t,s){e("."+t,i).text(s)}):(t=["s_1_q_1","s_1_q_2","s_1_q_3","s_2_q_2","s_2_q_1","s_2_q_3","s_2_q_4","s_3_q_1","s_3_q_2","s_3_q_3","s_3_q_4","s_4_q_1","s_4_q_2","s_4_q_4","s_5_q_1","s_5_q_2"],e.each(t,function(t,s){e("."+s,i).text("Ei tiedossa")})),s.municipalityRehabilitationStaffData[s.selectedMunicipality]?e.each(s.municipalityRehabilitationStaffData[s.selectedMunicipality],function(t,n){e("."+t,i).html(s.formatNr(n))}):(t=["s_4_q_3a","s_4_q_3b"],e.each(t,function(t,s){e("."+s,i).text("Ei tiedossa")})),s.municipalityHomecareStaffData[s.selectedMunicipality]?e.each(s.municipalityHomecareStaffData[s.selectedMunicipality],function(t,n){e("."+t,i).html(s.formatNr(n))}):(t=["s_5_q_3a","s_5_q_3b"],e.each(t,function(t,s){e("."+s,i).text("Ei tiedossa")}))},initHomeCareUnitSelection:function(){if(s.municipalityHomeCareUnitData[s.selectedMunicipality]){var t=e(".homecareunit_selection",i);e(".homecareunit_selection_container",i).show(),e(".homecareunit_selection_empty_container",i).hide(),e(".homecareunit_option",i).remove(),e.each(s.municipalityHomeCareUnitData[s.selectedMunicipality],function(i,s){e('<option value="'+s.unit+'" data-id="'+i+'" class="homecareunit_option">'+s.unit+"</option>").appendTo(t)})}else e(".homecareunit_selection_empty_container",i).show(),e(".homecareunit_selection_container",i).hide();s.initChosen(".homecareunit_selection")},setHomeCareUnitData:function(t){var n=["s_6_q_1","s_6_q_2","s_6_q_8","s_6_q_6","s_6_q_7","s_6_q_3","s_6_q_4"];e.each(n,function(n,a){e("."+a,i).text(s.municipalityHomeCareUnitData[s.selectedMunicipality][t][a])}),e(".homecareunit_container",i).slideDown(500,s.scaleHeights)},initHeader:function(){var t=e(".content_container .header .inner",i),s=e('<div class="content_wrapper"></div>').appendTo(t);e('<div class="municipality_selection_container"><select class="municipality_selection chosen_select"><option value="" disabled="disabled" selected="selected">Valitse kunta</option><option value="" disabled="disabled">- - - - - - - - - -</option></select></div>').appendTo(s),e('<div class="category_selection_container"><span class="selected_category"></span><span class="category_selection_list_toggler"><i class="fa fa-align-justify"></i></span><ul class="category_selection_list hidden"><li><a href="javascript:;" class="question_view_anchor_1" data-show=".questions_view_1">Hakeminen</a></li><li><a href="javascript:;" class="question_view_anchor_2" data-show=".questions_view_2">Odotusajat</a></li><li><a href="javascript:;" class="question_view_anchor_3" data-show=".questions_view_3">Omaishoito</a></li><li><a href="javascript:;" class="question_view_anchor_4" data-show=".questions_view_4">Kuntoutus</a></li><li><a href="javascript:;" class="question_view_anchor_5" data-show=".questions_view_5">Henkilöstö</a></li><li><a href="javascript:;" class="question_view_anchor_6" data-show=".questions_view_6">Kotihoito</a></li></ul></div>').appendTo(s)},initSomelinks:function(){e('<table class="share_container"><tr><td><a href="" class="facebook" target="_blank" title="Jaa Facebookissa"><i class="fa fa-yle-some fa-facebook"></i></a></td><td><a href="" class="twitter" target="_blank" title="Jaa Twitteriss&auml;"><i class="fa fa-yle-some fa-twitter"></i></a></tr><tr class="some_numbers"><td><span class="facebook_nr"></span></td><td><span class="twitter_nr"></span></td></tr></table>').appendTo(e(".container",i));var t="http://yle.fi/uutiset/7853653",s="Ylen Vanhusvahti avattu – katso missä jamassa oman kuntasi vanhuspalvelut ovat";e(".facebook",i).attr({href:"https://www.facebook.com/dialog/feed?app_id=147925155254978&display=popup&name="+encodeURIComponent(s)+"&link="+encodeURIComponent(t)+"&redirect_uri="+t+"&picture="+encodeURIComponent("http://img.yle.fi/uutiset/kotimaa/article7866073.ece/ALTERNATES/w960/vanhusvahti+tunnus")});var n="Ylen Vanhusvahti avattu – katso missä jamassa oman kuntasi vanhuspalvelut ovat";e(".twitter",i).attr({href:"https://twitter.com/share?url="+encodeURIComponent(t)+"&hashtags=vanhusvahti&text="+encodeURIComponent(n)})},updateColumnChart:function(t,n){e.fn.peity.defaults.pie={delimiter:null,fill:["#333","#ffde53"],height:null,radius:i.width()<400?60:100,width:null},e(".value_2013",i).html(s.formatNr(t,!0)+" %"),e(".value_2030",i).text(s.formatNr(n,!0)+" %"),e(".pie_2013",i).text(t+","+(100-t)),e(".pie_2030",i).text(n+","+(100-n)),e(".pie",i).peity("pie")},hashChange:function(){if("#etusivu"!==window.location.hash&&(s.initialized=!1),s.initialized===!0)return!1;var t={"#null":".init_view","#etusivu":".init_view","#aihevalinta":".subject_view","#hakeminen":".questions_view_1","#odotusajat":".questions_view_2","#omaishoito":".questions_view_3","#kuntoutus":".questions_view_4","#henkilokunta":".questions_view_5","#kotihoito":".questions_view_6"},n=t[window.location.hash];window.location.hash=e(n,i).data("hash"),e(".category_selection_list",i).slideUp(),"#etusivu"==window.location.hash?e(".content_container .header",i).slideUp():e(".content_container .header",i).slideDown(),"fade"==s.selectedView.data("show-type")&&"fade"==e(n,i).data("show-type")?s.selectedView.data("hash")!=e(n,i).data("hash")&&(e(".container",i).hide(),e(n,i).fadeIn(500,s.scaleHeights)):(e(".container",i).slideUp(1e3),e(n,i).slideDown(1e3,s.scaleHeights)),e(n,i).hasClass("questions_view")?e(".selected_category",i).html(e(n,i).data("name")):e(".selected_category",i).text("Aihealue"),s.selectedView=e(n,i),e("html, body").animate({scrollTop:e("html").last().offset().top},300),"undefined"!=typeof yleAnalytics&&yleAnalytics.trackEvent("plus_"+s.projectName+"_nakyma_"+n)},initEvents:function(){e(window).on("resize",s.getScale),e(window).on("hashchange",s.hashChange),i.on("change",".municipality_selection",function(t){""!==e(this).find("option:selected").val()?(e(".municipality_selection_button_container",i).slideDown(500,s.scaleHeights),s.selectedMunicipalityCollection=e(this).find("option:selected").val(),s.selectedMunicipality=e(this).find("option:selected").html(),s.setMunicipalityData(),s.initHomeCareUnitSelection(),e(".homecareunit_container",i).slideUp(500,s.scaleHeights),e(".homecareunit_selection",i).trigger("liszt:updated"),e(this).val()?e(".select_municipality",i).addClass("active").removeAttr("disabled"):e(".select_municipality",i).removeClass("active").attr("disabled","disabled"),e(".municipality_selection",i).find("option").removeAttr("selected"),e(".municipality_selection",i).find('option[data-municipality="'+s.selectedMunicipality+'"]').prop("selected",!0),e(".municipality_selection",i).trigger("liszt:updated"),e(".selected_municipality",i).hide().fadeIn(500).html(s.selectedMunicipality),e(".answer",i).hide().fadeIn(500),s.updateColumnChart(e(".init_view .municipality_selection",i).find("option:selected").attr("data-value-2013"),e(".municipality_selection",i).find("option:selected").attr("data-value-2030")),e(".feedback_textarea",i).removeAttr("disabled").val(""),e(".feedback_container .submit",i).show(),e(".feedback_container .thank_you",i).hide(),e(".feedback_container",i).slideUp(500,s.scaleHeights),"undefined"!=typeof yleAnalytics&&yleAnalytics.trackEvent("plus_"+s.projectName+"_kunta_"+s.selectedMunicipality)):t.preventDefault()}),i.on("change",".homecareunit_selection",function(t){""!==e(this).find("option:selected").val()?(s.selectedHomeCareUnit=e(this).find("option:selected").html(),s.setHomeCareUnitData(e(this).find("option:selected").data("id")),"undefined"!=typeof yleAnalytics&&yleAnalytics.trackEvent("plus_"+s.projectName+"_kotihoito_"+s.selectedHomeCareUnit)):t.preventDefault()}),i.on("click",".category_selection_list_toggler",function(){e(".category_selection_list",i).slideToggle()}),i.on("click",".category_selection_list a",function(){e(".category_selection_list a",i).removeClass("active"),e(this).addClass("active")}),i.on("click",".category_container",function(){e(".category_selection_list a",i).removeClass("active"),e(".question_view_anchor_"+e(this).data("id")).addClass("active")}),i.on("click",".navigation_container a",function(){e(".category_selection_list a",i).removeClass("active"),e(".question_view_anchor_"+e(this).data("id")).addClass("active")}),i.on("click",".feedback_container .submit",function(){e(".municipality_input",i).val(s.selectedMunicipality),"s_6"==e(".feedback_"+e(this).data("container"),i).find(".input_question").val()?e(".homecareunit_input",i).val(s.selectedHomeCareUnit):e(".homecareunit_input",i).val(""),e(".question_input",i).val(e(".feedback_"+e(this).data("container"),i).find(".input_question").val()),e(".comment_input",i).val(e(".feedback_"+e(this).data("container"),i).find(".feedback_textarea").val()),e(".plus_form",i)[0].submit(),e(".feedback_"+e(this).data("container"),i).find(".feedback_textarea").attr("disabled","disabled"),e(".feedback_"+e(this).data("container"),i).find(".submit").hide(),e(".feedback_"+e(this).data("container"),i).find(".thank_you").fadeIn()}),i.on("click",".select_municipality, .category_container, .category_selection_list a",function(){window.location.hash=e(e(this).data("show"),i).data("hash")}),i.on("click",".feedback_toggle .button",function(){e(".feedback_"+e(this).data("question-id"),i).slideToggle(500,s.scaleHeights)})},unmount:function(){e(window).off("resize",s.getScale),e(window).off("hashchange",s.hashChange),void 0!==i&&i.unbind(),delete window.plusApp[s.projectName]},mount:function(){s.init(),s.isInitialized=!0},init:function(){i=e(".plus-app.plus-app-"+s.projectName),s.setPath(),s.getScale(),s.initMediaUrls(),s.initEvents(),s.initMoveScroller(),s.initHeader(),s.getMunicipalitySelectionData(),s.getMunicipalityData(),s.selectedView=e(".init_view",i),s.initialized=!0,window.location.hash="etusivu",e(".init_view",i).slideDown(2e3,s.scaleHeights),s.initSomelinks()},meta:{id:this.projectName,version:"1.0.0"}};s.projectName="2017-03-vanhusvahti",void 0===window.plusApp&&(window.plusApp={}),void 0===window.plusApp[s.projectName]&&(window.plusApp[s.projectName]=s,window.plusApp[s.projectName].mount())}(jQuery)},{"chosen-jquery-browserify":2,peity:3}],2:[function(t,e,i){(function(t){(function(){var e,s,n,a,l,r,o={}.hasOwnProperty,h=function(t,e){function i(){this.constructor=t}for(var s in e)o.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};s=function(){function t(t,e){this.form_field=t,this.options=null!=e?e:{},this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.finish_setup()}return t.prototype.set_default_values=function(){var t=this;return this.click_test_action=function(e){return t.test_active_click(e)},this.activate_action=function(e){return t.activate_field(e)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.search_contains=this.options.search_contains||!1,this.choices=0,this.single_backstroke_delete=this.options.single_backstroke_delete||!1,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1},t.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||"Select Some Options":this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||"Select an Option",this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||"No results match"},t.prototype.mouse_enter=function(){return this.mouse_on_container=!0},t.prototype.mouse_leave=function(){return this.mouse_on_container=!1},t.prototype.input_focus=function(t){var e=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return e.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},t.prototype.input_blur=function(t){var e=this;if(!this.mouse_on_container)return this.active_field=!1,setTimeout(function(){return e.blur_test()},100)},t.prototype.result_add_option=function(t){var e,i;return t.disabled?"":(t.dom_id=this.container_id+"_o_"+t.array_index,e=t.selected&&this.is_multiple?[]:["active-result"],t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),i=""!==t.style.cssText?' style="'+t.style+'"':"",'<li id="'+t.dom_id+'" class="'+e.join(" ")+'"'+i+">"+t.html+"</li>")},t.prototype.results_update_field=function(){return this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.result_single_selected=null,this.results_build()},t.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},t.prototype.results_search=function(t){return this.results_showing?this.winnow_results():this.results_show()},t.prototype.keyup_checker=function(t){var e,i;switch(e=null!=(i=t.which)?i:t.keyCode,this.search_field_scale(),e){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(t.preventDefault(),this.results_showing)return this.result_select(t);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},t.prototype.generate_field_id=function(){var t;return t=this.generate_random_id(),this.form_field.id=t,t},t.prototype.generate_random_char=function(){var t,e,i;return t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",i=Math.floor(Math.random()*t.length),e=t.substring(i,i+1)},t}(),e=t.$,l=function(t){var e;return e=t.outerWidth()-t.width()},e.fn.extend({chosen:function(t){var i,s,a;return a=window.navigator.userAgent.toLowerCase(),s=/(msie) ([\w.]+)/.exec(a)||[],i={name:s[1]||"",version:s[2]||"0"},"msie"===i.name&&("6.0"===i.version||"7.0"===i.version&&7===document.documentMode)?this:this.each(function(i){var s;if(s=e(this),!s.hasClass("chzn-done"))return s.data("chosen",new n(this,t))})}}),n=function(t){function i(){return r=i.__super__.constructor.apply(this,arguments)}return h(i,t),i.prototype.setup=function(){return this.form_field_jq=e(this.form_field),this.current_value=this.form_field_jq.val(),this.is_rtl=this.form_field_jq.hasClass("chzn-rtl")},i.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-done")},i.prototype.set_up_html=function(){var t,i,s,n,a,r;return this.container_id=this.form_field.id.length?this.form_field.id.replace(/[^\w]/g,"_"):this.generate_field_id(),this.container_id+="_chzn",t=["chzn-container"],t.push("chzn-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&t.push(this.form_field.className),this.is_rtl&&t.push("chzn-rtl"),this.f_width=this.form_field_jq.outerWidth(),s={id:this.container_id,"class":t.join(" "),style:"width: "+this.f_width+"px;",title:this.form_field.title},i=e("<div />",s),this.is_multiple?i.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop" style="left:-9000px;"><ul class="chzn-results"></ul></div>'):i.html('<a href="javascript:void(0)" class="chzn-single chzn-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop" style="left:-9000px;"><div class="chzn-search"><input type="text" autocomplete="off" /></div><ul class="chzn-results"></ul></div>'),this.form_field_jq.hide().after(i),this.container=e("#"+this.container_id),this.dropdown=this.container.find("div.chzn-drop").first(),n=this.container.height(),a=this.f_width-l(this.dropdown),this.dropdown.css({width:a+"px",top:n+"px"}),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chzn-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chzn-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chzn-search").first(),this.selected_item=this.container.find(".chzn-single").first(),r=a-l(this.search_container)-l(this.search_field),this.search_field.css({width:r+"px"})),this.results_build(),this.set_tab_index(),this.form_field_jq.trigger("liszt:ready",{chosen:this})},i.prototype.register_observers=function(){var t=this;return this.container.mousedown(function(e){return t.container_mousedown(e)}),this.container.mouseup(function(e){return t.container_mouseup(e)}),this.container.mouseenter(function(e){return t.mouse_enter(e)}),this.container.mouseleave(function(e){return t.mouse_leave(e)}),this.search_results.mouseup(function(e){return t.search_results_mouseup(e)}),this.search_results.mouseover(function(e){return t.search_results_mouseover(e)}),this.search_results.mouseout(function(e){return t.search_results_mouseout(e)}),this.form_field_jq.bind("liszt:updated",function(e){return t.results_update_field(e)}),this.form_field_jq.bind("liszt:activate",function(e){return t.activate_field(e)}),this.form_field_jq.bind("liszt:open",function(e){return t.container_mousedown(e)}),this.search_field.blur(function(e){return t.input_blur(e)}),this.search_field.keyup(function(e){return t.keyup_checker(e)}),this.search_field.keydown(function(e){return t.keydown_checker(e)}),this.search_field.focus(function(e){return t.input_focus(e)}),this.is_multiple?this.search_choices.click(function(e){return t.choices_click(e)}):this.container.click(function(t){return t.preventDefault()})},i.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chzn-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus",this.activate_action),this.close_field()):(this.container.removeClass("chzn-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus",this.activate_action))},i.prototype.container_mousedown=function(t){var i;if(!this.is_disabled)return i=null!=t&&e(t.target).hasClass("search-choice-close"),"mousedown"!==(null!=t?t.type:void 0)||this.results_showing||t.preventDefault(),this.pending_destroy_click||i?this.pending_destroy_click=!1:(this.active_field?this.is_multiple||!t||e(t.target)[0]!==this.selected_item[0]&&!e(t.target).parents("a.chzn-single").length||(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),e(document).click(this.click_test_action),this.results_show()),this.activate_field())},i.prototype.container_mouseup=function(t){if("ABBR"===t.target.nodeName&&!this.is_disabled)return this.results_reset(t)},i.prototype.blur_test=function(t){if(!this.active_field&&this.container.hasClass("chzn-container-active"))return this.close_field()},i.prototype.close_field=function(){return e(document).unbind("click",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chzn-container-active"),this.winnow_results_clear(),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},i.prototype.activate_field=function(){return this.container.addClass("chzn-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},i.prototype.test_active_click=function(t){return e(t.target).parents("#"+this.container_id).length?this.active_field=!0:this.close_field()},i.prototype.results_build=function(){var t,e,i,s,n;for(this.parsing=!0,this.results_data=a.select_to_array(this.form_field),this.is_multiple&&this.choices>0?(this.search_choices.find("li.search-choice").remove(),this.choices=0):this.is_multiple||(this.selected_item.addClass("chzn-default").find("span").text(this.default_text),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?this.container.addClass("chzn-container-single-nosearch"):this.container.removeClass("chzn-container-single-nosearch")),t="",n=this.results_data,i=0,s=n.length;i<s;i++)e=n[i],e.group?t+=this.result_add_group(e):e.empty||(t+=this.result_add_option(e),e.selected&&this.is_multiple?this.choice_build(e):e.selected&&!this.is_multiple&&(this.selected_item.removeClass("chzn-default").find("span").text(e.text),this.allow_single_deselect&&this.single_deselect_control_build()));return this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.search_results.html(t),this.parsing=!1},i.prototype.result_add_group=function(t){return t.disabled?"":(t.dom_id=this.container_id+"_g_"+t.array_index,'<li id="'+t.dom_id+'" class="group-result">'+e("<div />").text(t.label).html()+"</li>")},i.prototype.result_do_highlight=function(t){var e,i,s,n,a;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass("highlighted"),s=parseInt(this.search_results.css("maxHeight"),10),a=this.search_results.scrollTop(),n=s+a,i=this.result_highlight.position().top+this.search_results.scrollTop(),e=i+this.result_highlight.outerHeight(),e>=n)return this.search_results.scrollTop(e-s>0?e-s:0);if(i<a)return this.search_results.scrollTop(i)}},i.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},i.prototype.results_show=function(){var t;return this.is_multiple?this.max_selected_options<=this.choices&&this.form_field_jq.trigger("liszt:maxselected",{chosen:this}):(this.selected_item.addClass("chzn-single-with-drop"),this.result_single_selected&&this.result_do_highlight(this.result_single_selected)),t=this.is_multiple?this.container.height():this.container.height()-1,this.form_field_jq.trigger("liszt:showing_dropdown",{chosen:this}),this.dropdown.css({top:t+"px",left:0}),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results()},i.prototype.results_hide=function(){return this.is_multiple||this.selected_item.removeClass("chzn-single-with-drop"),this.result_clear_highlight(),this.form_field_jq.trigger("liszt:hiding_dropdown",{chosen:this}),this.dropdown.css({left:"-9000px"}),this.results_showing=!1},i.prototype.set_tab_index=function(t){var e;if(this.form_field_jq.attr("tabindex"))return e=this.form_field_jq.attr("tabindex"),this.form_field_jq.attr("tabindex",-1),this.search_field.attr("tabindex",e)},i.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},i.prototype.search_results_mouseup=function(t){var i;if(i=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),i.length)return this.result_highlight=i,this.result_select(t),this.search_field.focus()},i.prototype.search_results_mouseover=function(t){var i;if(i=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first())return this.result_do_highlight(i)},i.prototype.search_results_mouseout=function(t){if(e(t.target).hasClass("active-result"))return this.result_clear_highlight()},i.prototype.choices_click=function(t){if(t.preventDefault(),this.active_field&&!e(t.target).hasClass("search-choice")&&!this.results_showing)return this.results_show()},i.prototype.choice_build=function(t){var i,s,n,a=this;return this.is_multiple&&this.max_selected_options<=this.choices&&this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),i=this.container_id+"_c_"+t.array_index,this.choices+=1,s=t.disabled?'<li class="search-choice search-choice-disabled" id="'+i+'"><span>'+t.html+"</span></li>":'<li class="search-choice" id="'+i+'"><span>'+t.html+'</span><a href="javascript:void(0)" class="search-choice-close" rel="'+t.array_index+'"></a></li>',this.search_container.before(s),n=e("#"+i).find("a").first(),n.click(function(t){return a.choice_destroy_link_click(t)})},i.prototype.choice_destroy_link_click=function(t){return t.preventDefault(),this.is_disabled?t.stopPropagation:(this.pending_destroy_click=!0,this.choice_destroy(e(t.target)))},i.prototype.choice_destroy=function(t){if(this.result_deselect(t.attr("rel")))return this.choices-=1,this.show_search_field_default(),this.is_multiple&&this.choices>0&&this.search_field.val().length<1&&this.results_hide(),t.parents("li").first().remove(),this.search_field_scale()},i.prototype.results_reset=function(){if(this.form_field.options[0].selected=!0,this.selected_item.find("span").text(this.default_text),this.is_multiple||this.selected_item.addClass("chzn-default"),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field)return this.results_hide()},i.prototype.results_reset_cleanup=function(){return this.current_value=this.form_field_jq.val(),this.selected_item.find("abbr").remove()},i.prototype.result_select=function(t){var e,i,s,n;if(this.result_highlight)return e=this.result_highlight,i=e.attr("id"),this.result_clear_highlight(),this.is_multiple?this.result_deactivate(e):(this.search_results.find(".result-selected").removeClass("result-selected"),this.result_single_selected=e,this.selected_item.removeClass("chzn-default")),e.addClass("result-selected"),n=i.substr(i.lastIndexOf("_")+1),s=this.results_data[n],s.selected=!0,this.form_field.options[s.options_index].selected=!0,this.is_multiple?this.choice_build(s):(this.selected_item.find("span").first().text(s.text),this.allow_single_deselect&&this.single_deselect_control_build()),(t.metaKey||t.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field_jq.val()!==this.current_value)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[s.options_index].value}),this.current_value=this.form_field_jq.val(),this.search_field_scale()},i.prototype.result_activate=function(t){return t.addClass("active-result")},i.prototype.result_deactivate=function(t){return t.removeClass("active-result")},i.prototype.result_deselect=function(t){var i,s;return s=this.results_data[t],!this.form_field.options[s.options_index].disabled&&(s.selected=!1,this.form_field.options[s.options_index].selected=!1,i=e("#"+this.container_id+"_o_"+t),i.removeClass("result-selected").addClass("active-result").show(),this.result_clear_highlight(),this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[s.options_index].value}),this.search_field_scale(),!0)},i.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect&&this.selected_item.find("abbr").length<1)return this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>')},i.prototype.winnow_results=function(){var t,i,s,n,a,l,r,o,h,c,u,_,d,p,f,m,g,v;for(this.no_results_clear(),h=0,c=this.search_field.val()===this.default_text?"":e("<div/>").text(e.trim(this.search_field.val())).html(),l=this.search_contains?"":"^",a=new RegExp(l+c.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),d=new RegExp(c.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),v=this.results_data,p=0,m=v.length;p<m;p++)if(i=v[p],!i.disabled&&!i.empty)if(i.group)e("#"+i.dom_id).css("display","none");else if(!this.is_multiple||!i.selected){if(t=!1,o=i.dom_id,r=e("#"+o),a.test(i.html))t=!0,h+=1;else if(this.enable_split_word_search&&(i.html.indexOf(" ")>=0||0===i.html.indexOf("["))&&(n=i.html.replace(/\[|\]/g,"").split(" "),n.length))for(f=0,g=n.length;f<g;f++)s=n[f],a.test(s)&&(t=!0,h+=1);t?(c.length?(u=i.html.search(d),_=i.html.substr(0,u+c.length)+"</em>"+i.html.substr(u+c.length),_=_.substr(0,u)+"<em>"+_.substr(u)):_=i.html,r.html(_),this.result_activate(r),null!=i.group_array_index&&e("#"+this.results_data[i.group_array_index].dom_id).css("display","list-item")):(this.result_highlight&&o===this.result_highlight.attr("id")&&this.result_clear_highlight(),this.result_deactivate(r))}return h<1&&c.length?this.no_results(c):this.winnow_results_set_highlight()},i.prototype.winnow_results_clear=function(){var t,i,s,n,a;for(this.search_field.val(""),i=this.search_results.find("li"),a=[],
s=0,n=i.length;s<n;s++)t=i[s],t=e(t),t.hasClass("group-result")?a.push(t.css("display","auto")):this.is_multiple&&t.hasClass("result-selected")?a.push(void 0):a.push(this.result_activate(t));return a},i.prototype.winnow_results_set_highlight=function(){var t,e;if(!this.result_highlight&&(e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),t=e.length?e.first():this.search_results.find(".active-result").first(),null!=t))return this.result_do_highlight(t)},i.prototype.no_results=function(t){var i;return i=e('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),i.find("span").first().html(t),this.search_results.append(i)},i.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},i.prototype.keydown_arrow=function(){var t,i;if(this.result_highlight?this.results_showing&&(i=this.result_highlight.nextAll("li.active-result").first(),i&&this.result_do_highlight(i)):(t=this.search_results.find("li.active-result").first(),t&&this.result_do_highlight(e(t))),!this.results_showing)return this.results_show()},i.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result"),t.length?this.result_do_highlight(t.first()):(this.choices>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},i.prototype.keydown_backstroke=function(){var t;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(t=this.search_container.siblings("li.search-choice").last(),t.length&&!t.hasClass("search-choice-disabled")?(this.pending_backstroke=t,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},i.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},i.prototype.keydown_checker=function(t){var e,i;switch(e=null!=(i=t.which)?i:t.keyCode,this.search_field_scale(),8!==e&&this.pending_backstroke&&this.clear_backstroke(),e){case 8:return this.backstroke_length=this.search_field.val().length;case 9:return this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;case 13:return t.preventDefault();case 38:return t.preventDefault(),this.keyup_arrow();case 40:return this.keydown_arrow()}},i.prototype.search_field_scale=function(){var t,i,s,n,a,l,r,o,h;if(this.is_multiple){for(s=0,r=0,a="position:absolute; left: -1000px; top: -1000px; display:none;",l=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],o=0,h=l.length;o<h;o++)n=l[o],a+=n+":"+this.search_field.css(n)+";";return i=e("<div />",{style:a}),i.text(this.search_field.val()),e("body").append(i),r=i.width()+25,i.remove(),r>this.f_width-10&&(r=this.f_width-10),this.search_field.css({width:r+"px"}),t=this.container.height(),this.dropdown.css({top:t+"px"})}},i.prototype.generate_random_id=function(){var t;for(t="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();e("#"+t).length>0;)t+=this.generate_random_char();return t},i}(s),i.Chosen=n,a=function(){function t(){this.options_index=0,this.parsed=[]}return t.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t)},t.prototype.add_group=function(t){var e,i,s,n,a,l;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:t.label,children:0,disabled:t.disabled}),a=t.childNodes,l=[],s=0,n=a.length;s<n;s++)i=a[s],l.push(this.add_option(i,e,t.disabled));return l},t.prototype.add_option=function(t,e,i){if("OPTION"===t.nodeName.toUpperCase())return""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,selected:t.selected,disabled:i===!0?i:t.disabled,group_array_index:e,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},t}(),a.select_to_array=function(t){var e,i,s,n,l;for(i=new a,l=t.childNodes,s=0,n=l.length;s<n;s++)e=l[s],i.add_node(e);return i.parsed}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(t,e,i){!function(t,e,i,s){var n=t.fn.peity=function(e,i){return o&&this.each(function(){var s=t(this),l=s.data("_peity");l?(e&&(l.type=e),t.extend(l.opts,i)):(l=new a(s,e,t.extend({},n.defaults[e],s.data("peity"),i)),s.change(function(){l.draw()}).data("_peity",l)),l.draw()}),this},a=function(t,e,i){this.$el=t,this.type=e,this.opts=i},l=a.prototype,r=l.svgElement=function(i,s){return t(e.createElementNS("http://www.w3.org/2000/svg",i)).attr(s)},o="createElementNS"in e&&r("svg",{})[0].createSVGRect;l.draw=function(){var t=this.opts;n.graphers[this.type].call(this,t),t.after&&t.after.call(this,t)},l.fill=function(){var e=this.opts.fill;return t.isFunction(e)?e:function(t,i){return e[i%e.length]}},l.prepare=function(t,e){return this.$svg||this.$el.hide().after(this.$svg=r("svg",{"class":"peity"})),this.$svg.empty().data("peity",this).attr({height:e,width:t})},l.values=function(){return t.map(this.$el.text().split(this.opts.delimiter),function(t){return parseFloat(t)})},n.defaults={},n.graphers={},n.register=function(t,e,i){this.defaults[t]=e,this.graphers[t]=i},n.register("pie",{fill:["#ff9900","#fff4dd","#ffc66e"],radius:8},function(e){if(!e.delimiter){var s=this.$el.text().match(/[^0-9\.]/);e.delimiter=s?s[0]:","}var n=t.map(this.values(),function(t){return t>0?t:0});if("/"==e.delimiter){var a=n[0],l=n[1];n=[a,i.max(0,l-a)]}for(var o=0,h=n.length,c=0;o<h;o++)c+=n[o];c||(h=2,c=1,n=[0,1]);var u=2*e.radius,_=this.prepare(e.width||u,e.height||u),d=_.width(),p=_.height(),f=d/2,m=p/2,g=i.min(f,m),v=e.innerRadius;"donut"!=this.type||v||(v=.5*g);var y=i.PI,w=this.fill(),b=this.scale=function(t,e){var s=t/c*y*2-y/2;return[e*i.cos(s)+f,e*i.sin(s)+m]},k=0;for(o=0;o<h;o++){var x,C=n[o],q=C/c;if(0!=q){if(1==q)if(v){var j=f-.01,z=m-g,D=m-v;x=r("path",{d:["M",f,z,"A",g,g,0,1,1,j,z,"L",j,D,"A",v,v,0,1,0,f,D].join(" ")})}else x=r("circle",{cx:f,cy:m,r:g});else{var M=k+C,T=["M"].concat(b(k,g),"A",g,g,0,q>.5?1:0,1,b(M,g),"L");v?T=T.concat(b(M,v),"A",v,v,0,q>.5?1:0,0,b(k,v)):T.push(f,m),k+=C,x=r("path",{d:T.join(" ")})}x.attr("fill",w.call(this,C,o,n)),_.append(x)}}}),n.register("donut",t.extend(!0,{},n.defaults.pie),function(t){n.graphers.pie.call(this,t)}),n.register("line",{delimiter:",",fill:"#c6d9fd",height:16,min:0,stroke:"#4d89f9",strokeWidth:1,width:32},function(t){var e=this.values();1==e.length&&e.push(e[0]);for(var n=i.max.apply(i,t.max==s?e:e.concat(t.max)),a=i.min.apply(i,t.min==s?e:e.concat(t.min)),l=this.prepare(t.width,t.height),o=t.strokeWidth,h=l.width(),c=l.height()-o,u=n-a,_=this.x=function(t){return t*(h/(e.length-1))},d=this.y=function(t){var e=c;return u&&(e-=(t-a)/u*c),e+o/2},p=d(i.max(a,0)),f=[0,p],m=0;m<e.length;m++)f.push(_(m),d(e[m]));f.push(h,p),t.fill&&l.append(r("polygon",{fill:t.fill,points:f.join(" ")})),o&&l.append(r("polyline",{fill:"none",points:f.slice(2,f.length-2).join(" "),stroke:t.stroke,"stroke-width":o,"stroke-linecap":"square"}))}),n.register("bar",{delimiter:",",fill:["#4D89F9"],height:16,min:0,padding:.1,width:32},function(t){for(var e=this.values(),n=i.max.apply(i,t.max==s?e:e.concat(t.max)),a=i.min.apply(i,t.min==s?e:e.concat(t.min)),l=this.prepare(t.width,t.height),o=l.width(),h=l.height(),c=n-a,u=t.padding,_=this.fill(),d=this.x=function(t){return t*o/e.length},p=this.y=function(t){return h-(c?(t-a)/c*h:1)},f=0;f<e.length;f++){var m,g=d(f+u),v=d(f+1-u)-g,y=e[f],w=p(y),b=w,k=w;c?y<0?b=p(i.min(n,0)):k=p(i.max(a,0)):m=1,m=k-b,0==m&&(m=1,n>0&&c&&b--),l.append(r("rect",{fill:_.call(this,y,f,e),x:g,y:b,width:v,height:m}))}})}(jQuery,document,Math)},{}]},{},[1]);})();
//# sourceMappingURL=script.min.js.map
